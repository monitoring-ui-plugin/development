<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>&lt;pre&gt;  oVirtUI::Data</title>
	<meta name="description" content="Pod documentation for &lt;pre&gt;  oVirtUI::Data" />
	<meta name="inputfile" content="../www/ovirt-monitoring/lib/oVirtUI/Data.pm" />
	<meta name="outputfile" content="../docs/modules/Data.html" />
	<meta name="created" content="Fri Jul 26 20:41:14 2013" />
	<meta name="generator" content="Pod::Xhtml 1.61" />
</head>
<body>
<div class="pod">
<!-- INDEX START -->
<h3 id="TOP">Index</h3>

<ul><li><a href="#NAME">NAME</a></li>
<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#CONSTRUCTOR">CONSTRUCTOR</a>
<ul><li><a href="#new_ARGS">new ( [ARGS] )</a></li>
</ul>
</li>
<li><a href="#METHODS">METHODS	</a>
<ul><li><a href="#get_services">get_services</a></li>
</ul>
</li>
<li><a href="#EXAMPLES">EXAMPLES</a></li>
<li><a href="#SEE_ALSO">SEE ALSO</a></li>
<li><a href="#AUTHOR">AUTHOR</a></li>
<li><a href="#VERSION">VERSION</a></li>
<li><a href="#COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</a>
</li>
</ul><hr />
<!-- INDEX END -->

<h1 id="NAME">NAME</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="NAME_CONTENT">
<pre>  oVirtUI::Data - Connect to data backend

</pre>

</div>
<h1 id="SYNOPSIS">SYNOPSIS</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="SYNOPSIS_CONTENT">
<pre>  use oVirtUI::Data;
  my $details = oVirtUI::Data-&gt;new(
  		provider	=&gt; 'ido',
  		provdata	=&gt; $provdata,
  		host		=&gt; $host,
  	 );
  $json = $details-&gt;get_services();

</pre>

</div>
<h1 id="DESCRIPTION">DESCRIPTION</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="DESCRIPTION_CONTENT">
<p>This module fetches service details for given hosts from various backends like
IDOutils and mk-livestatus.</p>

</div>
<h1 id="CONSTRUCTOR">CONSTRUCTOR</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="CONSTRUCTOR_CONTENT">

</div>
<h2 id="new_ARGS">new ( [ARGS] )</h2>
<div id="new_ARGS_CONTENT">
<p>Creates an oVirtUI::Data object. &lt;new&gt; takes at least the provider and provdata.
Arguments are in key-value pairs.
See <cite>EXAMPLES</cite> for more complex variants.</p>
<dl>
	<dt>provider</dt>
	<dd>
		<p>name of datasource provider (supported: ido|mk-livestatus)</p>
	</dd>
	<dt>provdata</dt>
	<dd>
		<p>provider specific connection data</p>
		<p>IDO:
  host: hostname (e.g. localhost)
  port: port (e.g. 3306)
  type: mysql|pgsql
  database: database name (e.g. icinga)
  username: database user (e.g. icinga)
  password: database password (e.g. icinga)
  prefix: database prefix (e.g. icinga_)</p>
		<p>mk-livestatus:
  socket: socket of mk-livestatus
  server: ip/hostname of mk-livestatus
  port: port of mk-livestatus</p>
	</dd>
	<dt>host</dt>
	<dd>
		<p>name of Icinga host object to query service details from
required for oVirtUI::Data-&gt;get_services()</p>

</div>
<h1 id="METHODS">METHODS	</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="METHODS_CONTENT">

</div>
<h2 id="get_services">get_services</h2>
<div id="get_services_CONTENT">
<pre> get_status ( 'host' =&gt; $host )

</pre>
		<p>Connects to backend and queries details of given host.
Returns JSON data.</p>
<pre>  my $json = $get_services( 'host' =&gt; $host );

</pre>
		<p>$VAR1 = {
   &quot;Current Load&quot; : {
      &quot;output&quot; : &quot;OK - load average: 0.00, 0.00, 0.00&quot;,
      &quot;service&quot; : &quot;Current Load&quot;,
      &quot;state&quot; : 0
   },
 }                               	</p>

</div>
<h1 id="EXAMPLES">EXAMPLES</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="EXAMPLES_CONTENT">
		<p>Get service details from IDOutils for host named 'localhost'</p>
<pre>  use oVirtUI::Data;
  my $details = oVirtUI::Data-&gt;new(
  	provider	=&gt; 'ido',
  	provdata	=&gt; $provdata,
  	host		=&gt; &quot;localhost&quot;,
  );
  $json = $details-&gt;get_services();




</pre>

</div>
<h1 id="SEE_ALSO">SEE ALSO</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="SEE_ALSO_CONTENT">
		<p>See oVirtUI::Config for reading and parsing config files.</p>

</div>
<h1 id="AUTHOR">AUTHOR</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="AUTHOR_CONTENT">
		<p>Rene Koch, &lt;r.koch@ovido.at&gt;</p>

</div>
<h1 id="VERSION">VERSION</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="VERSION_CONTENT">
		<p>Version 0.100  (July 26 2013))</p>

</div>
<h1 id="COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="COPYRIGHT_AND_LICENSE_CONTENT">
		<p>Copyright (C) 2013 by Rene Koch &lt;r.koch@ovido.at&gt;</p>
		<p>This library is free software; you can redistribute it and/or modify
it under the same terms as oVirtUI itself.</p>

</div>
</div></body>
</html>
